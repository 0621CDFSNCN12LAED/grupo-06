<!DOCTYPE html>
<html lang="en">
<%- include("../partials/head.ejs") %>

    <body>
        <%- include("../partials/header.ejs") %>

            <main>
                <!-- MUESTRO TODOS LOS ERRORES ARRIBA DEL FORMULARIO -->
               <!--  <div>
                   <% if(locals.errors){ %>
                        <% for(let error in locals.errors ){ %>
                            <p><%= locals.errors[error].msg %></p>
                    <% }} %>                   
                </div> -->

                <div class="login-page" id= "formul">
                    <div class="form">
                        <form class="login-form" method="POST" action="/users/registro">
                            <h3>Datos Personales</h2>
                                <section class="registro-flex">
                                    <div>
                                        <label for="firstname">Nombre</label>

                            <% if(locals.errors && errors.firstname) {%>
                                <div class="error"><%= errors.firstname.msg %></div>
                            <% } %>  
                                        <input type="text" id="firstname" name="firstname" placeholder="Juan" value="<%= locals.old ? old.firstname : null %>"/>
                                    </div>
                                    <div>
                                        <label for="lastname">Apellido</label>                                        
                            <% if(locals.errors && errors.lastname) {%>
                                <div class="error"><%= errors.lastname.msg %></div>
                            <% } %>  
                                        <input id="lastname" name="lastname" type="text" placeholder="Perez" value="<%= locals.old ? old.lastname : null %>"/>
                                    </div>
                                    <div>
                                        <label class="radio">Tipo de Documento</label>
                                        
 
                                        <div class="registro-radio">
                                            <div>
                                                <input type="radio" name="doc_type" id="doc_type" value="dni" />
                                                <label for="doc-type-dni">DNI</label>
                                            </div>
                                            <div>
                                                <input type="radio" name="doc_type" id="doc_type" value="ci" />
                                                <label for="doc-type-ci">CI</label>
                                            </div>
                                            <div>
                                                <input type="radio" name="doc_type" id="doc_type" value="pass" />
                                                <label for="doc-type-pass">Pasaporte</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="nroDocumento">Documento</label>
                                        <% if(locals.errors && errors.nroDocumento) {%>
                                            <div class="error"><%= errors.nroDocumento.msg %></div>
                                        <% } %> 
                                        <input id="doc" name="nroDocumento" type="text" placeholder="Número Documento" value="<%= locals.old ? old.nroDocumento : null %>" />
                                    </div>

                                    <div>
                                        <label for="birth_date">Fecha de Nacimiento</label>
                                        <% if(locals.errors && errors.birth_date) {%>
                                            <div class="error"><%= errors.birth_date.msg %></div>
                                        <% } %> 
                                        <input id="birth_date" name="birth_date" type="date" placeholder="birth-date" value="<%= locals.old ? old.birth_date : null %>"/>
                                    </div>
                                    <div>
                                        <label>Género</label>
                                        <% if(locals.errors && errors.gender) {%>
                                            <div class="error"><%= errors.gender.msg %></div>
                                        <% } %> 
                                        <div class="registro-radio">
                                            <div>
                                                <input type="radio" name="gender" id="gender-fem" value="F" />
                                                <label for="gender-fem">Femenino</label>
                                            </div>
                                            <div>
                                                <input type="radio" name="gender" id="gender-masc" value="M" />
                                                <label for="gender-masc">Masculino</label>
                                            </div>
                                            <div>
                                                <input type="radio" name="gender" id="gender-nb" value="N" />
                                                <label for="gender-nb">No binario</label>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <h3>Datos de Acceso</h2>
                                    <div>
                                        <label for="imagenPerfil">Imagen de Perfil</label>
                                        <input type="file" name="imagenPerfil" id="imagenPerfil">
                                    </div>
                                    <section class="registro-flex">
                                        <div>
                                            <label for="email">Correo</label>
                                            <% if(locals.errors && errors.email) {%>
                                                <div class="error"><%= errors.email.msg %></div>
                                            <% } %> 
                                            <input id="email" name="email" type="email" placeholder="jprezez@gmail.com" value="<%= locals.old ? old.email : null %>" />
                                        </div>
                                        <div>
                                            <label for="reEmail">Confirmar correo</label>
                                            <% if(locals.errors && errors.reEmail) {%>
                                                <div class="error"><%= errors.reEmail.msg %></div>
                                            <% } %> 
                                            <input id="reEmail" name="reEmail" type="email" placeholder="jprezez@gmail.com" value="<%= locals.old ? old.reEmail : null %>"/>
                                        </div>
                                        <div>
                                            <label for="password">Contraseña</label>
                                            <% if(locals.errors && errors.password) {%>
                                                <div class="error"><%= errors.password.msg %></div>
                                            <% } %> 
                                            <input id="password" name="password" type="password" placeholder="contraseña" />
                                        </div>
                                        <div>
                                            <label for="rePassword">Repetir contraseña</label>
                                            <% if(locals.errors && errors.rePassword) {%>
                                                <div class="error"><%= errors.rePassword.msg %></div>
                                            <% } %> 
                                            <input id="rePassword" name="rePassword" type="password" placeholder="contraseña" />
                                        </div>

                                        <div class="font-sm">
                                            <p>La contraseña debe tener al menos 8 caracteres, una letra y un número</p>
                                        </div>
                                        <div id="term-cond">
                                            <input type="checkbox" name="term" id="term" <%= locals.old && old.term ? 'checked' : null %> />
                                            <label for="term" class="font-sm"><a href="https://www.rosario.gob.ar/web/aplicaciones/terminos-y-condiciones-formularios" target="_blank">He leído y aceptado los términos y condiciones del servicio</a></label>
                                            <% if(locals.errors && errors.term) {%>
                                                <div class="error"><%= errors.term.msg %></div>
                                            <% } %> 
                                        </div>
                                    </section>
                                    <section>
                                        <button type="submit">Enviar</button>
                                        <button type="reset">Resetear</button>
                                    </section>
                        </form>
                    </div>
                </div>

            </main>
            <%- include("../partials/footer.ejs") %>
    </body>

</html>